var ImgLazy=new Class({Implements:[Options],options:{range:0,attr:"data-url",selector:"img",container:window,isFade:true,model:"y"},initialize:function(A){this.setOptions(A);this.container=document.id(this.options.container);this.elements=this.container.getElements?this.container.getElements(this.options.selector):document.getElements(this.options.selector);var B=function(){var E=this.container;var F=this.options.range;var C=this.options.model;var G=this.options.attr;var D=this.options.isFade;this.elements.each(function(L){var J=E.getScroll()[C];var N=E.getSize()[C]+F;var I=J+N;var M=L.getSize()[C];var O=L.getPosition()[C];var H=O+M;if((H>=J&&H<=I)||O<=I&&H>=I){var K=L.get(G);if(K){BBG.img.load(K,function(){L.set("src",K);L.erase(G);new Fx.Tween(L,{duration:500,transition:"bounce:out",link:"ignore",property:"opacity"}).start(0.6,1)})}}})}.bind(this);this.container.addEvent("resize",B);this.container.addEvent("scroll",B);B()}});